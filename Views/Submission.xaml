<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:InleverenWeek4MobileDev.ViewModels"
             x:Class="InleverenWeek4MobileDev.Submission"
             >

    <!-- Bind to the ViewModel -->
    <ContentPage.BindingContext>
        <local:SubmissionViewModel />
    </ContentPage.BindingContext>

    <Grid>
        <!-- Bind Image Source to the ViewModel property -->
        <ImageButton Source="{Binding submission.Image}"               
                     Aspect="{Binding AspectSize}"
               HorizontalOptions="Center"
               VerticalOptions="FillAndExpand"
                     Command="{Binding SubmissionTappedCommand}"
              />

        <Grid>
            <!-- Star Button -->
            <Border
     StrokeThickness="1"
     Stroke="Black"
     BackgroundColor="Transparent"
     WidthRequest="50"
     HeightRequest="50"
     StrokeShape="Ellipse"     
                           HorizontalOptions="Start"
           VerticalOptions="End"
                Margin="5,0,0,5"
    >
                <ImageButton 
                Command="{Binding ProfileClickedCommand}"
                Source="{Binding CreatorProfilePicture}"
                   Aspect="AspectFill"
                WidthRequest="50"
                HeightRequest="50"
     
                Margin="20" />
            </Border>
            <StackLayout Orientation="Horizontal"                         
             HorizontalOptions="End"
             VerticalOptions="End"
             Margin="0,560,10,10"
             Spacing="30">
                <CollectionView ItemsSource="{Binding BottomButtons}">
                    <CollectionView.ItemsLayout>
                        <!-- Set the layout of items to be horizontal -->
                        <LinearItemsLayout Orientation="Horizontal" ItemSpacing="15"/>
                    </CollectionView.ItemsLayout>

                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <!-- Placeholder for dynamically added buttons -->
                            <ContentView Content="{Binding}"/>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </StackLayout>


        </Grid>
    </Grid>
</ContentPage>
