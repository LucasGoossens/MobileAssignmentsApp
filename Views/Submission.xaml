<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:InleverenWeek4MobileDev.ViewModels"
             x:Class="InleverenWeek4MobileDev.Submission"
             Title="Submission">

    <!-- Bind to the ViewModel -->
    <ContentPage.BindingContext>
        <local:SubmissionViewModel />
    </ContentPage.BindingContext>

    <Grid>
        <!-- Bind Image Source to the ViewModel property -->
        <Image Source="{Binding submission.Image}"
               Aspect="AspectFill"
               HorizontalOptions="Center"
               VerticalOptions="FillAndExpand" />

        <Grid>
            <!-- Star Button -->
            <ImageButton 
                Command="{Binding ProfileClickedCommand}"
                Source="star"
                WidthRequest="50"
                HeightRequest="50"
                HorizontalOptions="Start"
                VerticalOptions="End"
                Margin="20" />

            <StackLayout Orientation="Horizontal"                         
             HorizontalOptions="End"
             VerticalOptions="End"
             Margin="0,560,10,10"
             Spacing="30">
                <CollectionView ItemsSource="{Binding BottomButtons}">
                    <CollectionView.ItemsLayout>
                        <!-- Set the layout of items to be horizontal -->
                        <LinearItemsLayout Orientation="Horizontal" ItemSpacing="15"/>
                    </CollectionView.ItemsLayout>

                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <!-- Placeholder for dynamically added buttons -->
                            <ContentView Content="{Binding}"/>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </StackLayout>


        </Grid>
    </Grid>
</ContentPage>
